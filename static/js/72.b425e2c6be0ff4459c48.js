webpackJsonp([72],{"0qqb":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("//Fk"),s=a.n(r),o=a("MArX"),i=a("PJh5"),l=a.n(i),n={name:"PermEdit",props:{onEdit:{type:Function,default:null},info:{type:Object,default:null}},data:function(){return{form:this.$form.createForm(this),visible:!1,perms:[],dateFormat:"YYYY-MM-DD"}},mounted:function(){},methods:{showDrawer:function(){console.log(this.info),this.detail()},onClose:function(){this.visible=!1},onChange:function(e,t){console.log(e,t)},detail:function(){var e=this;new s.a(function(t){Object(o.a)({id:e.info.id}).then(function(a){delete a.data.id,e.visible=!0,t(a),a.data.expire_time=l()(a.data.expire_time,e.dateFormat)})}).then(function(t){e.form.setFieldsValue(t.data)})},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields(function(e,a){e||(console.log("Received values of form: ",a),a.id=t.info.id,Object(o.b)(a).then(function(e){console.log(e),t.onEdit(),t.$message.success(e.message),setTimeout(function(){t.onClose()},100)}))})}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{display:"inline"}},[a("a-button",{staticStyle:{"margin-top":"4px"},attrs:{size:"small",type:"primary"},on:{click:e.showDrawer}},[a("a-icon",{attrs:{type:"edit"}})],1),e._v(" "),a("a-drawer",{attrs:{title:"用户详情修改",width:520,visible:e.visible,wrapStyle:{height:"calc(100% - 108px)",overflow:"auto",paddingBottom:"108px"},destroyOnClose:!0},on:{close:e.onClose}},[a("a-form",{attrs:{form:e.form,layout:"vertical"},on:{submit:e.handleSubmit}},[a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"用户昵称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入用户昵称"}]}],expression:"['name', {\n                rules: [{ required: true, message: '请输入用户昵称' }]\n              }]"}],attrs:{placeholder:"请输入用户昵称"}})],1)],1),e._v(" "),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"用户昵称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["nickname",{rules:[{required:!0,message:"请输入用户昵称"}]}],expression:"['nickname', {\n                rules: [{ required: true, message: '请输入用户昵称' }]\n              }]"}],attrs:{placeholder:"请输入用户昵称"}})],1)],1)],1),e._v(" "),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"账户余额"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["money",{rules:[{required:!1}]}],expression:"['money', {\n                rules: [{ required: false }]\n              }]"}],attrs:{placeholder:"请输入账户余额"}})],1)],1),e._v(" "),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"过期时间"}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["expire_time",{rules:[{required:!0,message:"请输入过期时间"}]}],expression:"['expire_time', {\n                rules: [{ required: true, message: '请输入过期时间' }]\n              }]"}],on:{change:e.onChange}})],1)],1)],1),e._v(" "),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"收费方式"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["charge_status",{rules:[{required:!0,message:"请选择收费方式"}]}],expression:"['charge_status', {\n                rules: [{ required: true, message: '请选择收费方式' }]\n              }]"}],attrs:{placeholder:"请选择收费方式"}},[a("a-select-option",{attrs:{value:"1"}},[e._v("月租收费")]),e._v(" "),a("a-select-option",{attrs:{value:"2"}},[e._v("出库收费")]),e._v(" "),a("a-select-option",{attrs:{value:"3"}},[e._v("免费用户")])],1)],1)],1),e._v(" "),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"是否可添加游戏包名"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["admin",{rules:[{required:!0,message:"请选择"}]}],expression:"['admin', {\n                rules: [{ required: true, message: '请选择' }]\n              }]"}],attrs:{placeholder:"请选择"}},[a("a-select-option",{attrs:{value:"1"}},[e._v("可添加")]),e._v(" "),a("a-select-option",{attrs:{value:"2"}},[e._v("不可添加")])],1)],1)],1)],1),e._v(" "),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"首次登陆是否需启用"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["save_device",{rules:[{required:!0,message:"请选择是否需启用"}]}],expression:"['save_device', {\n                rules: [{ required: true, message: '请选择是否需启用' }]\n              }]"}],attrs:{placeholder:"请选择"}},[a("a-select-option",{attrs:{value:"1"}},[e._v("需启用")]),e._v(" "),a("a-select-option",{attrs:{value:"2"}},[e._v("无需启用")])],1)],1)],1),e._v(" "),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"出库跳过已使用凭证"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["pass_store",{rules:[{required:!0,message:"请选择"}]}],expression:"['pass_store', {\n                rules: [{ required: true, message: '请选择' }]\n              }]"}],attrs:{placeholder:"请选择"}},[a("a-select-option",{attrs:{value:"1"}},[e._v("跳过")]),e._v(" "),a("a-select-option",{attrs:{value:"2"}},[e._v("不跳过")])],1)],1)],1)],1),e._v(" "),a("a-form-item",{attrs:{"wrapper-col":{span:24,offset:0}}},[a("a-row",[a("a-col",{attrs:{span:8,offset:16}},[a("a-button",{style:{marginRight:"8px"},attrs:{size:"small"},on:{click:e.onClose}},[e._v("取消")]),e._v(" "),a("a-button",{attrs:{size:"small",type:"primary","html-type":"submit"}},[e._v("提交")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},c=a("VU/8")(n,u,!1,null,null,null);t.default=c.exports}});
//# sourceMappingURL=72.b425e2c6be0ff4459c48.js.map